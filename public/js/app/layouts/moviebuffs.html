<h1>CineMine</h1>
<ul class="navbar" ng-controller="NavController as vm">
  <li class="navs">Welcome, &nbsp {{vm.currentUser.firstName}}!</li>
  <li class="navs"><a id="navs" ui-sref="home">Home</a></li>
  <li class="navs"><a id="navs" ui-sref="mymovies">My Movies</a></li>
  <li class="navs"><a id="navs" ui-sref="moviebank">Movie Bank</a></li>
  <li class="navs"><a id="navs" ui-sref="browse">Browse</a></li>
  <li class="navs"><a id="navs" ui-sref="moviebuffs">Movie Buffs</a></li>
  <li ng-click="vm.logOut()" class="navs"><a id="navs">Log Out</a></li>
</ul>

<main ng-if="'moviebuffs' | isState">
<div ng-hide="vm.userInfo">
  <h1 class="movie-buffs">Movie Buffs</h1>
  <div class="movie-buff-index">
    <div class="name-and-circle" ng-repeat="user in vm.users">
      <p ng-click="vm.setUser(user)" class="user-name">{{user.firstName}}</p>
      <div class="circle"></div>
    </div>
  </div>
</div>

<div ng-show="vm.userInfo">
  <div class="user-title-info">
    <h1 class="username">{{vm.userInfo.firstName}}'s</h1>
    <span class="following" ui-sref="moviebuffs.following">Following {{vm.userInfo.following.length}}</span>
    <span class="followers">Followers</span>
    <span class="buffs" ng-click="vm.clearUser()">See More Buffs</span>
    <button ng-click="vm.followUser(vm.userInfo); vm.getfollowingUser(vm.following); vm.clearUser()" class="follow">FOLLOW</button>
  </div>
  <div class="list-container">
    <div>
    <h1 class="list-text">FAVORITES</h1>
    <div class="favorite-list">
      <ul ng-repeat="movie in vm.userInfo.favoriteMovies">
        <img class="movie-in-list" src="https://image.tmdb.org/t/p/w185{{movie.poster_path}}">
      </ul>
    </div>
    </div>
    <div>
    <h1 class="list-text">WATCHED</h1>
    <div class="watched-list">
      <ul class="watched-movies" ng-repeat="movie in vm.userInfo.watchedMovies">
        <img class="movie-in-list" src="https://image.tmdb.org/t/p/w154{{movie.poster_path}}">
      </ul>
    </div>
    </div>
  </div>
</div>
</main>

<main ui-view> </main>
